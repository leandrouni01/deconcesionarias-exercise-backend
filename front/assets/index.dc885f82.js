var be=Object.defineProperty;var ue=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var ee=(t,r,n)=>r in t?be(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,f=(t,r)=>{for(var n in r||(r={}))Ce.call(r,n)&&ee(t,n,r[n]);if(ue)for(var n of ue(r))we.call(r,n)&&ee(t,n,r[n]);return t};var de=(t,r,n)=>(ee(t,typeof r!="symbol"?r+"":r,n),n);import{r as l,I as D,d as Se,M as Ie,a as te,L as v,u as Fe,B as L,A as De,T as B,b as re,c as S,R as e,e as pe,f as ge,g as ke,S as y,h as _,s as Te,i as O,j,k as ne,l as U,m as Me,n as N,o as Ae,p as V,q as P,t as $,D as W,v as se,C as k,w as x,P as I,x as z,y as Pe,z as Ee,E as ae,F as Y,G as oe,H as G,J,K as Le,N as _e,O as He,Q as Qe,U as Be,V as Ve,W as $e,X as ze,Y as T,Z as Ge,_ as qe,$ as Re,a0 as Ke,a1 as Oe}from"./vendor.9c19716d.js";const je=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};je();function Ue(){const[t,r]=l.exports.useState(null),n=Boolean(t),a=c=>{r(c.currentTarget)},o=()=>{r(null)},s=l.exports.useMemo(()=>[{to:"/vehicles/manage",linkMessage:"Manage Vehicles"},{to:"/properties/manage",linkMessage:"Manage Properties"},{to:"/categories/manage",linkMessage:"Manage Categories"}],[]);return l.exports.createElement(l.exports.Fragment,null,l.exports.createElement(D,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":n?"true":void 0,onClick:a},l.exports.createElement(Se,null)),l.exports.createElement(Ie,{id:"basic-menu",anchorEl:t,open:n,onClose:o,MenuListProps:{"aria-labelledby":"basic-button"}},s.map((c,m)=>l.exports.createElement(te,{component:v,key:m,to:c.to,selected:Boolean(Fe(c.to))},c.linkMessage))))}const Ne=()=>l.exports.createElement(L,{sx:{flexGrow:1,my:1}},l.exports.createElement(De,{position:"static"},l.exports.createElement(B,null,l.exports.createElement(re,{src:"https://cdn.pixabay.com/photo/2018/09/06/10/02/car-icon-3657902_960_720.png",alt:"Product Logo",component:v,to:"/",sx:{mr:2,width:"3em",height:"3em"}}),l.exports.createElement(S,{variant:"h6",sx:{flexGrow:1,color:"inherit",textDecoration:"none"}},"Vehicle Ratings"),l.exports.createElement(Ue,null)))),le=t=>{const{items:r,ItemComponent:n,subHeaderTitle:a,onDelete:o}=t,[s,c]=l.exports.useState(!1),[m,d]=l.exports.useState(0),h=l.exports.useCallback(u=>g=>{c(!0),d(u)},[]),p=l.exports.useCallback(()=>{c(!1)},[]),i={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,borderRadius:2,p:4};return e.createElement(e.Fragment,null,e.createElement(pe,{sx:{width:"100%",bgcolor:"background.paper",flexGrow:1},component:"nav","aria-labelledby":"nested-list-subheader",subheader:e.createElement(ge,{component:"div",id:"nested-list-subheader",sx:{borderBottom:1,borderColor:"divider"}},a)},r.map(u=>e.createElement(n,{key:u.id,data:u,onDelete:h}))),e.createElement(ke,{open:s,onClose:p,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},e.createElement(L,{sx:i},e.createElement(S,{id:"modal-modal-title",variant:"subtitle1",component:"h2",textAlign:"center"},"Are you sure you want to delete?"),e.createElement(y,{direction:"row",justifyContent:"space-evenly"},e.createElement(_,{variant:"contained",onClick:p},"Cancel"),e.createElement(_,{variant:"contained",onClick:o(m,p),color:"warning"},"Delete")))))};function R(t){const r=Object.keys(O);var n=Te.findBestMatch(t,r);const a=n.bestMatch.target;return O[a]}const We=t=>{const{data:{icon:r,name:n,id:a},onDelete:o}=t,s=l.exports.useMemo(()=>R(r),[r]);return e.createElement(j,{sx:{borderBottom:1,borderColor:"divider"},secondaryAction:e.createElement(D,{edge:"end","aria-label":"delete",onClick:o(a)},e.createElement(ne,null))},e.createElement(U,{component:v,to:`/categories/update/${a}`},e.createElement(Me,null,e.createElement(re,null,e.createElement(s,null))),e.createElement(N,{primary:n})))};class Ye{constructor(){de(this,"axiosInstance");this.initInstance()}initInstance(){this.axiosInstance=Ae.create({baseURL:"/api",timeout:5e3})}get pbAxios(){return this.axiosInstance}}var he=new Ye;const K=he.pbAxios,q=async t=>await K.get(t),X=async t=>await K.get(t),ce=async(t,r)=>await K.post(t,r),ie=async(t,r)=>await K.put(t,r),me=async t=>await K.delete(t),Je=()=>{const t=V(),[r,n]=l.exports.useState({open:!1,severity:"success",message:""}),{isSuccess:a,isFetching:o,isError:s,data:c,error:m}=P("categories",async()=>(await q("/categories")).data),d=$("categories",async i=>(await me("/categories/"+i)).data,{onSuccess:(i,u)=>{var E;const g=(E=t.getQueryData("categories"))==null?void 0:E.filter(b=>b.id!==u);t.setQueryData("categories",g),n({open:!0,severity:"success",message:"Category deleted successfully"})},onError:()=>{n({open:!0,severity:"error",message:"An error ocurred"})}});return{toast:r,isSuccess:a,isFetching:o,isError:s,categories:c,error:m,onToastClose:()=>{n({open:!1,severity:"success",message:""})},onDelete:(i,u)=>g=>{d.mutate(i),u&&u()}}},Xe=()=>{const{toast:t,isSuccess:r,isFetching:n,isError:a,categories:o,error:s,onToastClose:c,onDelete:m}=Je();return e.createElement(e.Fragment,null,e.createElement(y,{alignItems:"center",divider:e.createElement(W,{orientation:"horizontal",flexItem:!0}),spacing:2,mt:"1em"},e.createElement(_,{variant:"outlined",endIcon:e.createElement(se,null),color:"success",component:v,to:"/categories/add"},"Add Category"),n&&!r&&e.createElement(k,null),a&&e.createElement(x,{severity:"error"},s.message),r&&e.createElement(I,{elevation:1,sx:{minHeight:"70vh",width:"100%",px:1}},e.createElement(le,{items:o||[],onDelete:m,ItemComponent:We,subHeaderTitle:"Categories"})),e.createElement(z,{open:t.open,autoHideDuration:5e3,onClose:c},e.createElement(x,{severity:t.severity,sx:{width:"100%"},variant:"filled"},t.message))))};function Ze(){const t=/(Outlined|Rounded|Sharp|TwoTone)$/;return Object.keys(O).filter(r=>!t.test(r))}const ye=Ze(),et=t=>{const[r,n]=l.exports.useState([]);l.exports.useEffect(()=>{c(1)},[]);const{onIconClick:a}=t,o=25,s=(m,d)=>{c(d)},c=m=>{const d=ye.slice(m*o-o,m*o);n(()=>d.map(p=>{const i=O[p];return e.createElement(D,{key:p,onClick:a(p)},e.createElement(i,null))}))};return e.createElement(y,{justifyContent:"space-evenly",alignItems:"center",gap:2},e.createElement(y,{direction:"row",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",width:["80%","70%","50%"],height:"10em",overflow:"auto",component:I},r),e.createElement(Pe,{count:Math.ceil(ye.length/o),onChange:s,size:"small"}))},tt=({icon:t,setIcon:r,setValue:n,error:a,errorMessage:o})=>{const[s,c]=l.exports.useState(!1),m=t?R(t):null,d=p=>{c(!0)},h=p=>i=>{r(p),c(!1),n&&n("icon",p,{shouldValidate:!0})};return e.createElement(y,{width:s?"fit-content":"min-content"},a&&e.createElement(S,{variant:"caption",textAlign:"center",fontSize:"11px",color:"#d32f2f"},o),e.createElement(Ee,{in:!s},e.createElement(y,{direction:"row",justifyContent:"space-evenly",alignItems:"center",gap:"2em",component:I,p:1},e.createElement(re,null,m&&e.createElement(m,null)),e.createElement(y,{justifyContent:"space-evenly",alignItems:"center"},e.createElement(S,{variant:"subtitle2",display:"block",gutterBottom:!0},"Icon"),e.createElement(_,{variant:"outlined",size:"small",onClick:d},"Choose")))),e.createElement(Ee,{in:s},e.createElement(et,{onIconClick:h})))},rt=t=>{const r=V(),n=t?{icon:t.icon,name:t.name}:{name:"",icon:""},a=t?{success:"updated",error:"update"}:{success:"created",error:"creation"},{control:o,handleSubmit:s,formState:{errors:c},register:m,setValue:d,reset:h}=ae({defaultValues:n}),[p,i]=l.exports.useState(n.icon),[u,g]=l.exports.useState({open:!1,severity:"success",message:""}),E=()=>{g({open:!1,severity:"success",message:""})},{isLoading:b,mutate:M}=$("categories",async C=>t?(await ie("/categories/"+t.id,f({id:t.id},C))).data:(await ce("/categories",f({id:0},C))).data,{onSuccess:(C,w)=>{if(t){const A=r.getQueryData("categories"),F=A==null?void 0:A.map(H=>H.id==C.id?f(f({},w),H):H);r.setQueryData("categories",F)}else{const A=r.getQueryData("categories"),F=A?[...A]:[];F.push(f({id:C.id},w)),r.setQueryData("categories",F),h()}g({open:!0,severity:"success",message:`Category ${a.success} successfully`})},onError:()=>{g({open:!0,severity:"error",message:`Error on ${a.error} update`})}});return{control:o,handleSubmit:s,register:m,setValue:d,errors:c,icon:p,setIcon:i,toast:u,onToastClose:E,isLoading:b,onSubmit:C=>{M(C)}}},xe=({categoryValues:t})=>{const{control:r,handleSubmit:n,register:a,setValue:o,errors:s,icon:c,setIcon:m,toast:d,onToastClose:h,isLoading:p,onSubmit:i}=rt(t);return e.createElement(e.Fragment,null,e.createElement(y,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:n(i),alignItems:"center",justifyContent:"flex-start",gap:"2em",minHeight:"75vh",sx:{px:1,pt:1}},e.createElement("input",f({type:"hidden"},a("icon",{required:"You have not selected any icon"}))),e.createElement(tt,{icon:c,setIcon:m,setValue:o,error:!!s.icon,errorMessage:s.icon?s.icon.message:""}),e.createElement(Y,{name:"name",defaultValue:"",control:r,rules:{required:"Field name is required"},render:({field:u})=>{var g;return e.createElement(oe,{error:!!s.name,label:"Name",variant:"filled",inputProps:u,helperText:(g=s.name)==null?void 0:g.message,sx:{width:"75%"}})}}),e.createElement(_,{type:"submit",color:"primary",variant:"contained",disabled:p,sx:{width:"25%",alignSelf:"center"}},"Submit")),e.createElement(z,{open:d.open,autoHideDuration:6e3,onClose:h},e.createElement(x,{severity:d.severity,sx:{width:"100%"},variant:"filled"},d.message)))},nt=()=>e.createElement(I,null,e.createElement(L,{sx:{flexGrow:1}},e.createElement(B,null,e.createElement(D,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},component:v,to:"/categories/manage"},e.createElement(G,null)),e.createElement(S,{variant:"h6",component:"div",sx:{flexGrow:1}},"Add Category"))),e.createElement(xe,null)),st=()=>{const{id:t}=J(),{isSuccess:r,isError:n,isFetching:a,data:o,error:s}=P(["categories",t],async()=>(await X("categories/"+t)).data,{refetchOnWindowFocus:!1});return e.createElement(I,null,e.createElement(L,{sx:{flexGrow:1}},e.createElement(B,null,e.createElement(D,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},component:v,to:"/categories/manage"},e.createElement(G,null)),e.createElement(S,{variant:"h6",component:"div",sx:{flexGrow:1}},"Update Category"))),a&&e.createElement(k,null),n&&e.createElement(x,{severity:"error"},s.message),r&&e.createElement(xe,{categoryValues:o}))},at=t=>{const{data:{name:r,id:n,property_category:a},onDelete:o}=t,s=R(a?a.icon:"");return e.createElement(j,{sx:{borderBottom:1,borderColor:"divider"},secondaryAction:e.createElement(D,{edge:"end","aria-label":"delete",onClick:o(n)},e.createElement(ne,null))},e.createElement(U,{component:v,to:`/properties/update/${n}`},e.createElement(N,{primary:r,secondary:a?e.createElement(y,{direction:"row",alignItems:"center",component:"span"},e.createElement(S,{variant:"subtitle2",component:"span"},"Category: ",a.name),e.createElement(s,null)):void 0})))},ot=()=>{const t=V(),[r,n]=l.exports.useState({open:!1,severity:"success",message:""}),{isSuccess:a,isFetching:o,isError:s,data:c,error:m}=P("properties",async()=>(await q("/properties")).data),d=$("properties",async i=>(await me("/properties/"+i)).data,{onSuccess:(i,u)=>{var E;const g=(E=t.getQueryData("properties"))==null?void 0:E.filter(b=>b.id!==u);t.setQueryData("properties",g),n({open:!0,severity:"success",message:"Vehicle property deleted successfully"})},onError:()=>{n({open:!0,severity:"error",message:"An error ocurred"})}}),h=l.exports.useCallback(()=>{n({open:!1,severity:"success",message:""})},[]),p=l.exports.useCallback((i,u)=>g=>{d.mutate(i),u&&u()},[]);return{toast:r,isSuccess:a,isFetching:o,isError:s,properties:c,error:m,onToastClose:h,onDelete:p}},lt=()=>{const{toast:t,isSuccess:r,isFetching:n,isError:a,properties:o,error:s,onToastClose:c,onDelete:m}=ot();return e.createElement(e.Fragment,null,e.createElement(y,{alignItems:"center",divider:e.createElement(W,{orientation:"horizontal",flexItem:!0}),spacing:2,mt:"1em"},e.createElement(_,{variant:"outlined",endIcon:e.createElement(se,null),color:"success",component:v,to:"/properties/add"},"Add Property"),n&&!r&&e.createElement(k,null),a&&e.createElement(x,{severity:"error"},s.message),r&&e.createElement(I,{elevation:1,sx:{minHeight:"70vh",width:"100%",px:1}},e.createElement(le,{items:o||[],onDelete:m,ItemComponent:at,subHeaderTitle:"Vehicle Properties"})),e.createElement(z,{open:t.open,autoHideDuration:5e3,onClose:c},e.createElement(x,{severity:t.severity,sx:{width:"100%"},variant:"filled"},t.message))))},ct=t=>{const r=V(),n=t?{name:t.name,property_category_FK:t.property_category_FK}:{name:"",property_category_FK:0},a=t?{success:"updated",error:"update"}:{success:"created",error:"creation"},{isFetching:o,isError:s,data:c}=P("categories",async()=>(await q("/categories")).data,{refetchOnWindowFocus:!1}),{control:m,handleSubmit:d,formState:{errors:h},register:p,setValue:i,reset:u}=ae({defaultValues:n}),[g,E]=l.exports.useState({open:!1,severity:"success",message:""}),b=l.exports.useCallback(()=>{E({open:!1,severity:"success",message:""})},[]),{isLoading:M,mutate:Q}=$("properties",async w=>t?(await ie("/properties/"+t.id,f({id:t.id},w))).data:(await ce("/properties",f({id:0},w))).data,{onSuccess:(w,A)=>{if(t){const F=r.getQueryData("properties"),H=F==null?void 0:F.map(Z=>Z.id==w.id?f(f({},A),Z):Z);r.setQueryData("properties",H)}else{const F=r.getQueryData("properties"),H=F?[...F]:[];H.push(f({id:w.id},A)),r.setQueryData("properties",H),u()}E({open:!0,severity:"success",message:`Property ${a.success} successfully`})},onError:()=>{E({open:!0,severity:"error",message:`Error on property ${a.error}`})}}),C=l.exports.useCallback(w=>{Q(w)},[t]);return{isFetching:o,isError:s,categories:c,control:m,handleSubmit:d,errors:h,register:p,setValue:i,toast:g,onToastClose:b,onSubmit:C,isLoading:M}},fe=({propertyValues:t})=>{const{isFetching:r,isError:n,categories:a,control:o,handleSubmit:s,errors:c,toast:m,onToastClose:d,onSubmit:h,isLoading:p}=ct(t);return e.createElement(e.Fragment,null,e.createElement(y,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:s(h),alignItems:"center",justifyContent:"flex-start",gap:"2em",minHeight:"75vh",sx:{px:1,pt:1}},e.createElement(Y,{name:"name",defaultValue:"",control:o,rules:{required:"Field name is required"},render:({field:i})=>{var u;return e.createElement(oe,{error:!!c.name,label:"Name",variant:"filled",inputProps:i,helperText:(u=c.name)==null?void 0:u.message,sx:{width:"75%"}})}}),r?e.createElement(k,null):n?e.createElement(x,{severity:"error"},"Error on category fetching"):e.createElement(Y,{name:"property_category_FK",defaultValue:0,control:o,rules:{validate:i=>i!=0?!0:"You must choose a category"},render:({field:i})=>{var u;return e.createElement(Le,{sx:{width:"75%"},error:!!c.property_category_FK},e.createElement(_e,null,"Category"),e.createElement(He,{label:"category",inputProps:i},e.createElement(te,{value:0,key:0,disabled:!0},"Select a category"),a==null?void 0:a.map(g=>{const E=R(g.icon);return e.createElement(te,{key:g.id,value:g.id},e.createElement(E,null),g.name)})),c.property_category_FK&&e.createElement(Qe,null,(u=c.property_category_FK)==null?void 0:u.message))}}),e.createElement(_,{type:"submit",color:"primary",variant:"contained",disabled:p,sx:{width:"25%",alignSelf:"center"}},"Submit")),e.createElement(z,{open:m.open,autoHideDuration:6e3,onClose:d},e.createElement(x,{severity:m.severity,sx:{width:"100%"},variant:"filled"},m.message)))},it=()=>e.createElement(I,null,e.createElement(L,{sx:{flexGrow:1}},e.createElement(B,null,e.createElement(D,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},component:v,to:"/properties/manage"},e.createElement(G,null)),e.createElement(S,{variant:"h6",component:"div",sx:{flexGrow:1}},"Add Property"))),e.createElement(fe,null)),mt=()=>{const{id:t}=J(),{isSuccess:r,isError:n,isFetching:a,data:o,error:s}=P(["properties",t],async()=>(await X("properties/"+t)).data,{refetchOnWindowFocus:!1});return e.createElement(I,null,e.createElement(L,{sx:{flexGrow:1}},e.createElement(B,null,e.createElement(D,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},component:v,to:"/properties/manage"},e.createElement(G,null)),e.createElement(S,{variant:"h6",component:"div",sx:{flexGrow:1}},"Update Property"))),a&&e.createElement(k,{sx:{mx:"auto"}}),n&&e.createElement(x,{severity:"error"},s.message),r&&!a&&e.createElement(fe,{propertyValues:o}))},ut=t=>{const{data:{name:r,id:n},onDelete:a}=t;return e.createElement(j,{sx:{borderBottom:1,borderColor:"divider"},secondaryAction:e.createElement(D,{edge:"end","aria-label":"delete",onClick:a(n)},e.createElement(ne,null))},e.createElement(U,{component:v,to:`/vehicles/update/${n}`},e.createElement(N,{primary:r})))},dt=()=>{const t=V(),[r,n]=l.exports.useState({open:!1,severity:"success",message:""}),{isSuccess:a,isFetching:o,isError:s,data:c,error:m}=P("vehicles",async()=>(await q("/vehicles")).data),d=$("vehicles",async i=>(await me("/vehicles/"+i)).data,{onSuccess:(i,u)=>{var E;const g=(E=t.getQueryData("vehicles"))==null?void 0:E.filter(b=>b.id!==u);t.setQueryData("vehicles",g),n({open:!0,severity:"success",message:"Vehicle deleted successfully"})},onError:()=>{n({open:!0,severity:"error",message:"An error ocurred"})}});return{toast:r,isSuccess:a,isFetching:o,isError:s,vehicles:c,error:m,onToastClose:()=>{n({open:!1,severity:"success",message:""})},onDelete:(i,u)=>g=>{d.mutate(i),u&&u()}}},pt=()=>{const{toast:t,isSuccess:r,isFetching:n,isError:a,vehicles:o,error:s,onToastClose:c,onDelete:m}=dt();return e.createElement(e.Fragment,null,e.createElement(y,{alignItems:"center",divider:e.createElement(W,{orientation:"horizontal",flexItem:!0}),spacing:2,mt:"1em"},e.createElement(_,{variant:"outlined",endIcon:e.createElement(se,null),color:"success",component:v,to:"/vehicles/add"},"Add Vehicle"),n&&!r&&e.createElement(k,null),a&&e.createElement(x,{severity:"error"},s.message),r&&e.createElement(I,{elevation:1,sx:{minHeight:"70vh",width:"100%",px:1}},e.createElement(le,{items:o||[],onDelete:m,ItemComponent:ut,subHeaderTitle:"Vehicles"})),e.createElement(z,{open:t.open,autoHideDuration:5e3,onClose:c},e.createElement(x,{severity:t.severity,sx:{width:"100%"},variant:"filled"},t.message))))},gt=t=>{const r=V(),n=t?{name:t.name}:{name:""},a=t?{success:"updated",error:"update"}:{success:"created",error:"creation"},[o,s]=l.exports.useState({open:!1,severity:"success",message:""}),c=()=>{s({open:!1,severity:"success",message:""})},{control:m,handleSubmit:d,formState:{errors:h},reset:p}=ae({defaultValues:n}),{isLoading:i,mutate:u}=$("vehicles",async E=>t?(await ie("/vehicles/"+t.id,f({id:t.id},E))).data:(await ce("/vehicles",f({id:0},E))).data,{onSuccess:(E,b)=>{if(t){const M=r.getQueryData("vehicles"),Q=M==null?void 0:M.map(C=>C.id==E.id?f(f({},b),C):C);r.setQueryData("vehicles",Q)}else{const M=r.getQueryData("vehicles"),Q=M?[...M]:[];Q.push({id:E.id,name:b.name}),r.setQueryData("vehicles",Q),p()}s({open:!0,severity:"success",message:`Vehicle ${a.success} successfully`})},onError:()=>{s({open:!0,severity:"error",message:`Error on vehicle ${a.error}`})}});return{onSubmit:E=>{u(E)},control:m,handleSubmit:d,errors:h,onToastClose:c,isLoading:i,toast:o}},ve=({vehicleValues:t})=>{const{onSubmit:r,control:n,handleSubmit:a,errors:o,onToastClose:s,isLoading:c,toast:m}=gt(t);return e.createElement(e.Fragment,null,e.createElement(y,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:a(r),alignItems:"center",justifyContent:"flex-start",gap:"2em",minHeight:"75vh",sx:{px:1,pt:1}},e.createElement(Y,{name:"name",defaultValue:"",control:n,rules:{required:"Field name is required"},render:({field:d})=>{var h;return e.createElement(oe,{error:!!o.name,label:"Name",variant:"filled",inputProps:d,helperText:(h=o.name)==null?void 0:h.message,sx:{width:"75%"}})}}),e.createElement(_,{type:"submit",color:"primary",variant:"contained",disabled:c,sx:{width:"25%",alignSelf:"center"}},"Submit")),e.createElement(z,{open:m.open,autoHideDuration:6e3,onClose:s},e.createElement(x,{severity:m.severity,sx:{width:"100%"},variant:"filled"},m.message)))},Et=()=>e.createElement(I,null,e.createElement(L,{sx:{flexGrow:1}},e.createElement(B,null,e.createElement(D,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},component:v,to:"/vehicles/manage"},e.createElement(G,null)),e.createElement(S,{variant:"h6",component:"div",sx:{flexGrow:1}},"Add Vehicle"))),e.createElement(ve,null)),ht=()=>{const{id:t}=J(),{isSuccess:r,isError:n,isFetching:a,data:o,error:s}=P(["vehicles",t],async()=>(await X("vehicles/"+t)).data,{refetchOnWindowFocus:!1});return e.createElement(I,null,e.createElement(L,{sx:{flexGrow:1}},e.createElement(B,null,e.createElement(D,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},component:v,to:"/vehicles/manage"},e.createElement(G,null)),e.createElement(S,{variant:"h6",component:"div",sx:{flexGrow:1}},"Update Vehicle"))),a&&e.createElement(k,{sx:{mx:"auto"}}),n&&e.createElement(x,{severity:"error"},s.message),r&&!a&&e.createElement(ve,{vehicleValues:o}))},yt=()=>{const{isFetching:t,isError:r,isSuccess:n,data:a,error:o}=P("vehicles",async()=>(await q("/vehicles")).data);return e.createElement(e.Fragment,null,t&&e.createElement(k,null),r&&e.createElement(x,{severity:"error"},"En error ocurred"),n&&e.createElement(pe,{sx:{width:"100%",bgcolor:"background.paper",flexGrow:1,minHeight:"80vh"},"aria-labelledby":"nested-list-subheader",component:I,subheader:e.createElement(ge,{component:"div",id:"nested-list-subheader",sx:{borderBottom:1,borderColor:"divider"}},"Vehicles")},a&&a.map(s=>e.createElement(j,{key:s.id,sx:{borderBottom:1,borderColor:"divider"}},e.createElement(U,{component:v,to:`/vehicles/details/${s.id}`},e.createElement(N,{primary:s.name}))))),!t&&a&&a.length<1&&e.createElement(x,{severity:"warning"},"There are no vehicles on the database"))},xt=({icon:t,label:r})=>{const n=l.exports.useMemo(()=>R(t),[t]);return e.createElement(e.Fragment,null,e.createElement(n,{fontSize:"inherit"}),e.createElement("span",null,r))},ft=he.pbAxios,vt=async({value:t,vehicle_property_FK:r,vehicle_FK:n})=>{const a={value:t,vehicle_property_FK:r};return await ft.post("/ratings/"+n,a)},bt=({property:{name:t,id:r,value:n},vehicleId:a})=>{const[o,s]=l.exports.useState(n?n.value:null),c=V(),{isLoading:m,mutate:d}=$(["ratings",a],async p=>(await vt({value:p,vehicle_FK:a,vehicle_property_FK:r})).data,{onSuccess:(p,i)=>{s(i),c.invalidateQueries(["ratings",a.toString()])}}),h=l.exports.useCallback((p,i)=>{d(i||1)},[]);return e.createElement(y,{direction:"row"},e.createElement(y,{direction:"column"},e.createElement(S,null,t),e.createElement(Be,{value:o,onChange:h,disabled:m})),e.createElement(y,{width:"1em"},m&&e.createElement(k,{size:"1em",sx:{display:"block",my:"auto"},disableShrink:!0})))},Ct=({data:t,vehicleId:r})=>{const[n,a]=e.useState(0),o=(s,c)=>{a(c)};return e.createElement(y,{direction:"row",sx:{height:"65vh",mt:0,width:"100%"},component:I},e.createElement(Ve,{value:n,variant:"scrollable",onChange:o,scrollButtons:!0,allowScrollButtonsMobile:!0,orientation:"vertical",sx:{borderRight:1,borderColor:"divider"}},t.map(s=>e.createElement($e,{key:s.id,label:e.createElement(xt,{icon:s.icon,label:s.name})}))),e.createElement(y,{flexGrow:1,flexWrap:"wrap",gap:"0.2em",p:"2em",component:L},t[n].vehicle_properties.map(s=>e.createElement(bt,{key:s.id,property:s,vehicleId:r}))))},wt=()=>{const{id:t}=J(),r=P(["vehicles",t],async()=>(await X("/vehicles/"+t)).data),n=P(["ratings",t],async()=>(await q("/ratings/"+t)).data);return e.createElement(y,{alignItems:"center",divider:e.createElement(W,{orientation:"horizontal",flexItem:!0}),spacing:2,mt:"1em"},r.isLoading&&e.createElement(k,null),r.isError&&e.createElement(x,{severity:"error"},"An error ocurred when retrieving vehicle name"),r.isSuccess&&e.createElement(S,{variant:"h1",fontSize:"3.75rem",textAlign:"center"},r.data&&r.data.name),n.isFetching&&!n.isSuccess&&e.createElement(k,null),n.isError&&e.createElement(x,{severity:"error"},"An error ocurred when retrieving vehicle name"),n.isSuccess&&e.createElement(Ct,{data:n.data,vehicleId:t?+t:0}))},St=()=>l.exports.createElement(ze,null,l.exports.createElement(T,{path:"/",element:l.exports.createElement(yt,null)}),l.exports.createElement(T,{path:"/categories/manage",element:l.exports.createElement(Xe,null)}),l.exports.createElement(T,{path:"/categories/add",element:l.exports.createElement(nt,null)}),l.exports.createElement(T,{path:"/categories/update/:id",element:l.exports.createElement(st,null)}),l.exports.createElement(T,{path:"/properties/manage",element:l.exports.createElement(lt,null)}),l.exports.createElement(T,{path:"/properties/add",element:l.exports.createElement(it,null)}),l.exports.createElement(T,{path:"/properties/update/:id",element:l.exports.createElement(mt,null)}),l.exports.createElement(T,{path:"/vehicles/manage",element:l.exports.createElement(pt,null)}),l.exports.createElement(T,{path:"/vehicles/add",element:l.exports.createElement(Et,null)}),l.exports.createElement(T,{path:"/vehicles/update/:id",element:l.exports.createElement(ht,null)}),l.exports.createElement(T,{path:"/vehicles/details/:id",element:l.exports.createElement(wt,null)})),It=({children:t})=>{const r=new Ge;return e.createElement(qe,{client:r},t)};function Ft(){return e.createElement(It,null,e.createElement(Re,null,e.createElement(Ne,null),e.createElement(Ke,null,e.createElement(St,null))))}Oe.render(e.createElement(e.StrictMode,null,e.createElement(Ft,null)),document.getElementById("root"));
